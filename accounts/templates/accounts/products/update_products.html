{% extends "accounts/base.html" %}
{% block title %} <title> Update or Edit products </title>{% endblock title %}

{% block heading %}
<h3>Update Product:</h3>
{% endblock %}

{% block content_start %}

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="mb-3">
        <label><strong>Product Name :</strong></label>
        <input type="text" name="p_name" class="form-control" value="{{ product.name }}" required>
    </div>

    <div class="mb-3">
        <label><strong>Price :</strong></label>
        <input type="number" step="0.01" name="price" class="form-control" value="{{ product.price }}" required>
    </div>

    <div class="mb-3">
        <label><strong>Description :</strong></label>
        <textarea name="description" class="form-control">{{ product.description }}</textarea>
    </div>
     <div class="mb-3">
        <label class="form-label"><Strong>Location :</Strong></label>
        <select class="form-select" name="location">
            <option value="" disabled  {% if not product.location %}selected{% endif %}>Select Role</option>
            <option value="hyderabad" {% if product.location == 'hyderabad' %}selected{% endif %}>Hyderabad</option>
            <option value="bangalore" {% if product.location == 'bangalore' %}selected{% endif %}>Bangalore</option>
            <option value="chennai" {% if product.location == 'chennai' %}selected{% endif %}>Chennai</option>
        </select>
    </div>
    {% if product.image %}
    <div class="mb-3">
        <label><strong>Current Product Image :</strong></label><br>
        <img src="{{ product.image.url }}" alt="Product Image" style="max-width:150px; height:auto;" class="mb-2">
    </div>
    {% endif %}

    <div class="mb-3">
        <label><strong>Change Product Image :</strong></label>
        <input type="file" name="p_image" class="form-control">
    </div>

<div class="d-flex justify-content-between">
    <button class="btn btn-primary">Update Product</button>
    <button class="btn btn-success"><a class="text-decoration-none text-white" href="{% url 'admin.list_products.dashboard' %}">Back</a></button>
    </div>
</form>

{% endblock %}